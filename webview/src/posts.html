<!DOCTYPE html>

<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
    <script>
    window._postsData = {
      posts: [],
      title: '',
      url: '',
      prepareRender: false,
      selected: [],
      postsStyle: {
        selection: false,
        theme: 'green',
        fontsize: 'normal',
        showSig: false
      },
      onSelect: function (selected) {
        UZLEE.onSelect(selected.join(','))
      }
    }

    document.addEventListener('click', function (e) {
      if (e.target.classList.contains('content-image') && e.target.src.indexOf('http') > -1) {
        UZLEE.onImageClick(e.target.src);
      }
    })

    window.scrollToPost = function(pid) {
      var id = 'pid-' + pid;
      var calledTimes = arguments[1] || 10;

      if (document.getElementById(id)) {
          console.log('Scroll to pid-' + pid + 'successfully.');
          location.hash = '';
          location.hash = id;
      } else if (calledTimes) {
          setTimeout(scrollToPost.bind(null, pid, calledTimes - 1), 500);
      }
    }
    </script>
</head>

<body>
<h3 id="title" v-if="prepareRender">{{title}}</h3>
<posts :posts="posts" :posts-style="postsStyle" :on-select="onSelect" :prepare-render="prepareRender"></posts>
<div id="footer" v-if="prepareRender">
  <p>{{url}}</p>
  <p>From UZLEE</p>
</div>
<script src="dist/posts.bundle.js"></script>
</body>
</html>